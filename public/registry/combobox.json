{
  "name": "combobox",
  "version": "1.0.0",
  "type": "component",
  "dependencies": {
    "items": [
      "chip"
    ]
  },
  "files": [
    {
      "name": "combobox.tsx",
      "target": "components",
      "content": "'use client';\n\nimport * as React from 'react';\nimport { Combobox as BaseCombobox } from '@base-ui/react/combobox';\nimport { cn } from '#utils';\nimport { Chip } from './chip';\nimport { cva, type VariantProps } from 'class-variance-authority';\n\nexport function Combobox({\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Root>) {\n  return <BaseCombobox.Root data-slot=\"combobox\" {...props} />;\n}\n\nexport const comboboxTriggerVariants = cva(\n  [\n    'px-2.5 w-full bg-input rounded placeholder:text-dimmed transition-all',\n    'focus:outline-0 focus:ring-primary focus:ring-2',\n    'has-focus:ring-primary has-focus:ring-2',\n    'flex items-center gap-2.5 cursor-default',\n    'data-disabled:opacity-70 data-disabled:pointer-events-none',\n  ],\n  {\n    variants: {\n      variant: {\n        default:\n          'bg-input ring ring-input-border hover:ring-input-accent-border shadow-input',\n        subtle:\n          'bg-input/60 ring ring-input-border hover:ring-input-accent-border shadow-input',\n        plain: 'bg-transparent hover:bg-accent',\n      },\n      pill: {\n        true: 'rounded-full',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      pill: false,\n    },\n  },\n);\n\nexport function ComboboxTrigger({\n  className,\n  children,\n  variant,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Trigger> &\n  VariantProps<typeof comboboxTriggerVariants>) {\n  return (\n    <BaseCombobox.Trigger\n      data-slot=\"combobox-trigger\"\n      {...props}\n      role=\"combobox\"\n      className={cn('h-9.5', comboboxTriggerVariants({ variant, className }))}\n    >\n      {children}\n      <BaseCombobox.Icon className=\"text-muted ml-auto\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          className=\"w-4\"\n        >\n          <path d=\"m6 9 6 6 6-6\" />\n        </svg>\n      </BaseCombobox.Icon>\n    </BaseCombobox.Trigger>\n  );\n}\n\nexport type ComboboxItem = {\n  value: string;\n  label: string;\n  icon?: React.ReactNode;\n};\n\nexport function ComboboxValue({\n  placeholder = 'Select an option',\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Value> & {\n  placeholder?: string;\n}) {\n  return (\n    <BaseCombobox.Value data-slot=\"combobox-value\" {...props}>\n      {(value: string | ComboboxItem) => (\n        <ComboboxRenderValue value={value} placeholder={placeholder} />\n      )}\n    </BaseCombobox.Value>\n  );\n}\n\nfunction ComboboxRenderValue({\n  value,\n  placeholder,\n}: {\n  value: string | ComboboxItem;\n  placeholder: string;\n}) {\n  if (!value) {\n    return <span className=\"text-dimmed\">{placeholder}</span>;\n  }\n\n  if (typeof value === 'object') {\n    return (\n      <div className=\"flex items-center gap-2.5 *:[svg]:size-4 *:[svg]:text-popover-foreground\">\n        {value.icon}\n        <span className=\"text-popover-foreground\">{value.label}</span>\n      </div>\n    );\n  }\n\n  return <span className=\"text-popover-foreground\">{value}</span>;\n}\n\nexport function ComboboxInput({\n  className,\n  placeholder,\n  variant,\n  pill,\n  ref,\n}: VariantProps<typeof comboboxTriggerVariants> & {\n  placeholder: string;\n  className?: string;\n  ref?: React.RefObject<HTMLDivElement | null>;\n}) {\n  return (\n    <BaseCombobox.Chips\n      data-slot=\"combobox-chips\"\n      role=\"combobox\"\n      className={cn(\n        comboboxTriggerVariants({ variant, pill, className }),\n        'min-h-9.5 py-1 flex items-center flex-wrap gap-1.5',\n      )}\n      ref={ref}\n    >\n      <BaseCombobox.Value>\n        {(value: ComboboxItem[]) => (\n          <React.Fragment>\n            {value.map((item) => (\n              <BaseCombobox.Chip\n                key={item.value}\n                render={<Chip />}\n                className={cn(\n                  'focus-visible:outline-none focus-visible:bg-primary focus-visible:text-primary-foreground',\n                  'focus-visible:ring-primary',\n                )}\n              >\n                {item.label}\n                <BaseCombobox.ChipRemove>\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"2\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    className=\"size-3.5 opacity-60 hover:opacity-100 transition-colors\"\n                  >\n                    <path d=\"M18 6 6 18\" />\n                    <path d=\"m6 6 12 12\" />\n                  </svg>\n                </BaseCombobox.ChipRemove>\n              </BaseCombobox.Chip>\n            ))}\n            <BaseCombobox.Input\n              placeholder={value.length === 0 ? placeholder : ''}\n              className={cn('min-w-4 flex-1 outline-none')}\n            />\n          </React.Fragment>\n        )}\n      </BaseCombobox.Value>\n    </BaseCombobox.Chips>\n  );\n}\n\nexport function ComboboxPopup({\n  className,\n  children,\n  align,\n  alignOffset,\n  side,\n  sideOffset,\n  anchor,\n  sticky,\n  positionMethod,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Popup> & {\n  align?: BaseCombobox.Positioner.Props['align'];\n  alignOffset?: BaseCombobox.Positioner.Props['alignOffset'];\n  side?: BaseCombobox.Positioner.Props['side'];\n  sideOffset?: BaseCombobox.Positioner.Props['sideOffset'];\n  anchor?: BaseCombobox.Positioner.Props['anchor'];\n  sticky?: BaseCombobox.Positioner.Props['sticky'];\n  positionMethod?: BaseCombobox.Positioner.Props['positionMethod'];\n}) {\n  return (\n    <BaseCombobox.Portal>\n      <BaseCombobox.Backdrop />\n      <BaseCombobox.Positioner\n        align={align}\n        alignOffset={alignOffset}\n        side={side}\n        sideOffset={sideOffset || 6}\n        anchor={anchor}\n        sticky={sticky}\n        positionMethod={positionMethod}\n      >\n        <BaseCombobox.Popup\n          data-slot=\"combobox-popup\"\n          {...props}\n          className={cn(\n            'bg-popover ring ring-popover-border rounded shadow-popover overflow-y-auto',\n            'w-(--anchor-width) max-h-[min(var(---available-height),23rem)]',\n            'max-w-(--available-width) origin-(--transform-origin)',\n            'p-1 outline-none transition-[transform,scale,opacity]',\n            'data-[ending-style]:opacity-0 data-[ending-style]:scale-90',\n            'data-[starting-style]:opacity-0 data-[starting-style]:scale-90',\n            className,\n          )}\n        >\n          {children}\n        </BaseCombobox.Popup>\n      </BaseCombobox.Positioner>\n    </BaseCombobox.Portal>\n  );\n}\n\nexport function ComboboxSearch({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Input>) {\n  return (\n    <BaseCombobox.Input\n      data-slot=\"combobox-search\"\n      placeholder=\"Search item\"\n      {...props}\n      className={cn(\n        'outline-none h-10 px-2.5 w-full border-b border-input-border mb-2',\n        className,\n      )}\n    />\n  );\n}\n\nexport function ComboboxEmpty({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Empty>) {\n  return (\n    <BaseCombobox.Empty\n      data-slot=\"combobox-empty\"\n      {...props}\n      className={cn('px-3 py-1.5 text-dimmed empty:p-0')}\n    />\n  );\n}\n\nexport function ComboboxList({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.List>) {\n  return (\n    <BaseCombobox.List\n      data-slot=\"combobox-list\"\n      {...props}\n      className={cn('space-y-0.5 outline-none', className)}\n    />\n  );\n}\n\nexport function ComboboxItem({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Item>) {\n  return (\n    <BaseCombobox.Item\n      data-slot=\"combobox-item\"\n      {...props}\n      className={cn(\n        'flex items-center text-popover-foreground gap-3.5 py-2.5 px-3 rounded select-none',\n        'group-data-[side=none]:min-w-[calc(var(--anchor-width))]',\n        'data-[highlighted]:bg-popover-accent data-[selected]:bg-popover-accent',\n        'focus-visible:outline-none',\n        'pl-10 data-[selected]:pl-2.5',\n        'data-disabled:opacity-70 data-disabled:pointer-events-none',\n        className,\n      )}\n    >\n      <BaseCombobox.ItemIndicator>\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"3\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          className=\"size-4 text-primary\"\n        >\n          <path d=\"M20 6 9 17l-5-5\" />\n        </svg>\n      </BaseCombobox.ItemIndicator>\n      {children}\n    </BaseCombobox.Item>\n  );\n}\n\nexport function ComboboxGroup({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Group>) {\n  return (\n    <BaseCombobox.Group\n      data-slot=\"combobox-group\"\n      {...props}\n      className={cn('space-y-1', className)}\n    />\n  );\n}\n\nexport function ComboboxGroupLabel({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.GroupLabel>) {\n  return (\n    <BaseCombobox.GroupLabel\n      data-slot=\"combobox-group-label\"\n      {...props}\n      className={cn('px-2.5 py-1.5 text-sm font-medium text-dimmed', className)}\n    />\n  );\n}\n\nexport function ComboboxSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseCombobox.Separator>) {\n  return (\n    <BaseCombobox.Separator\n      data-slot=\"combobox-separator\"\n      {...props}\n      className={cn('h-px my-1 bg-popover-separator', className)}\n    />\n  );\n}\n"
    }
  ]
}