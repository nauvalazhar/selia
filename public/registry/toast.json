{
  "name": "toast",
  "type": "component",
  "dependencies": {
    "items": [
      "button"
    ]
  },
  "files": [
    {
      "name": "toast.tsx",
      "target": "components",
      "content": "'use client';\n\nimport { Toast as BaseToast, type ToastObject } from '@base-ui/react/toast';\nimport { buttonVariants } from './button';\nimport { cn } from '#utils';\n\nexport const toastManager = BaseToast.createToastManager();\nexport const anchoredToastManager = BaseToast.createToastManager();\n\nexport function Toast() {\n  return (\n    <>\n      <BaseToast.Provider toastManager={toastManager}>\n        <StackedToasts />\n      </BaseToast.Provider>\n      <BaseToast.Provider toastManager={anchoredToastManager}>\n        <AnchoredToasts />\n      </BaseToast.Provider>\n    </>\n  );\n}\n\nfunction StackedToasts() {\n  const { toasts } = BaseToast.useToastManager();\n\n  return (\n    <BaseToast.Portal>\n      <BaseToast.Viewport className=\"fixed top-2 md:top-4 right-0 left-0 mx-2 md:mx-auto flex\">\n        {toasts.map((toast) => (\n          <BaseToast.Root\n            key={toast.id}\n            toast={toast}\n            swipeDirection=\"up\"\n            className={cn(\n              'absolute right-0 top-0 left-0 z-[calc(1000-var(--toast-index))] mx-auto w-sm max-w-full origin-top',\n              'rounded border border-toast-border bg-toast p-4 shadow-lg select-none h-(--height)',\n              'after:absolute after:bottom-full after:left-0 after:h-[calc(var(--gap)+1px)] after:w-full',\n              '[--gap:0.75rem] [--peek:0.75rem] [--scale:calc(max(0,1-(var(--toast-index)*0.1)))] [--shrink:calc(1-var(--scale))]',\n              '[--height:var(--toast-frontmost-height,var(--toast-height))] [--offset-y:calc(var(--toast-offset-y)+(var(--toast-index)*var(--gap))+var(--toast-swipe-movement-y))]',\n              '[transform:translateX(var(--toast-swipe-movement-x))_translateY(calc(var(--toast-swipe-movement-y)+(var(--toast-index)*var(--peek))+(var(--shrink)*var(--height))))_scale(var(--scale))]',\n              '[transition:transform_0.5s_cubic-bezier(0.22,1,0.36,1),opacity_0.5s,height_0.15s]',\n              'data-[starting-style]:[transform:translateY(-150%)]',\n              'data-[ending-style]:data-[swipe-direction=down]:[transform:translateY(calc(var(--toast-swipe-movement-y)+150%))]',\n              'data-[ending-style]:data-[swipe-direction=left]:[transform:translateX(calc(var(--toast-swipe-movement-x)-150%))_translateY(var(--offset-y))]',\n              'data-[ending-style]:data-[swipe-direction=right]:[transform:translateX(calc(var(--toast-swipe-movement-x)+150%))_translateY(var(--offset-y))]',\n              'data-[ending-style]:data-[swipe-direction=up]:[transform:translateY(calc(var(--toast-swipe-movement-y)-150%))]',\n              '[&[data-ending-style]:not([data-limited]):not([data-swipe-direction])]:[transform:translateY(-150%)]',\n              'data-[ending-style]:opacity-0',\n              'data-[limited]:opacity-0',\n              'data-[expanded]:h-[var(--toast-height)]',\n              'data-[expanded]:data-[ending-style]:data-[swipe-direction=down]:[transform:translateY(calc(var(--toast-swipe-movement-y)+150%))]',\n              'data-[expanded]:data-[ending-style]:data-[swipe-direction=left]:[transform:translateX(calc(var(--toast-swipe-movement-x)-150%))_translateY(var(--offset-y))]',\n              'data-[expanded]:data-[ending-style]:data-[swipe-direction=right]:[transform:translateX(calc(var(--toast-swipe-movement-x)+150%))_translateY(var(--offset-y))]',\n              'data-[expanded]:data-[ending-style]:data-[swipe-direction=up]:[transform:translateY(calc(var(--toast-swipe-movement-y)-150%))]',\n              'data-[expanded]:[transform:translateX(var(--toast-swipe-movement-x))_translateY(calc(var(--offset-y)))]',\n            )}\n          >\n            <ToastContent toast={toast} />\n          </BaseToast.Root>\n        ))}\n      </BaseToast.Viewport>\n    </BaseToast.Portal>\n  );\n}\n\nfunction AnchoredToasts() {\n  const { toasts } = BaseToast.useToastManager();\n\n  return (\n    <BaseToast.Portal>\n      <BaseToast.Viewport className=\"outline-0\">\n        {toasts.map((toast) => (\n          <BaseToast.Positioner\n            key={toast.id}\n            toast={toast}\n            className=\"z-[calc(1000-var(--toast-index))]\"\n          >\n            <BaseToast.Root\n              toast={toast}\n              className={cn(\n                'group flex w-max origin-(--transform-origin) flex-col outline-none',\n                'shadow bg-toast border border-toast-border rounded',\n                'transition-[transform,scale,opacity]',\n                'data-ending-style:scale-90 data-ending-style:opacity-0',\n                'data-starting-style:scale-90 data-starting-style:opacity-0',\n                toast.data?.size === 'sm' ? 'p-2' : 'p-4',\n              )}\n            >\n              <ToastContent toast={toast} />\n            </BaseToast.Root>\n          </BaseToast.Positioner>\n        ))}\n      </BaseToast.Viewport>\n    </BaseToast.Portal>\n  );\n}\n\nfunction ToastContent({ toast }: { toast: ToastObject<Object> }) {\n  return (\n    <BaseToast.Content\n      data-slot=\"toast-content\"\n      className={cn(\n        'overflow-hidden transition-opacity data-behind:pointer-events-none data-behind:opacity-0',\n        'data-expanded:opacity-100 data-expanded:pointer-events-auto',\n        'flex gap-x-2.5 gap-y-0.5 items-center',\n      )}\n    >\n      {toast.type && (\n        <ToastIcon type={toast.type}>{icons[toast.type]}</ToastIcon>\n      )}\n      <div className=\"w-full flex justify-between flex-col md:flex-row items-start\">\n        <div>\n          <BaseToast.Title\n            data-slot=\"toast-title\"\n            className=\"text-foreground font-medium\"\n          />\n          <BaseToast.Description\n            data-slot=\"toast-description\"\n            className=\"text-muted col-start-1\"\n          />\n        </div>\n        <BaseToast.Action\n          data-slot=\"toast-action\"\n          className={cn(\n            'text-sm md:ml-auto shrink-0 mt-2 md:mt-0 self-center',\n            buttonVariants({ variant: 'tertiary', size: 'xs' }),\n          )}\n        />\n      </div>\n    </BaseToast.Content>\n  );\n}\n\nfunction ToastIcon({\n  type,\n  children,\n}: {\n  type?: string;\n  children: React.ReactNode;\n}) {\n  return (\n    <div\n      data-slot=\"toast-icon\"\n      className={cn(\n        '*:[svg]:w-4.5 self-start',\n        type === 'success' && '*:[svg]:fill-success/20 *:[svg]:stroke-success',\n        type === 'info' && '*:[svg]:fill-info/20 *:[svg]:stroke-info',\n        type === 'warning' && '*:[svg]:fill-warning/20 *:[svg]:stroke-warning',\n        type === 'error' && '*:[svg]:fill-danger/20 *:[svg]:stroke-danger',\n      )}\n    >\n      {children}\n    </div>\n  );\n}\n\nconst icons: Record<string, React.ReactNode> = {\n  loading: (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      className=\"size-4.5 animate-spin\"\n    >\n      <path d=\"M21 12a9 9 0 1 1-6.219-8.56\" />\n    </svg>\n  ),\n  success: (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <circle cx=\"12\" cy=\"12\" r=\"10\" />\n      <path d=\"m9 12 2 2 4-4\" />\n    </svg>\n  ),\n  info: (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <circle cx=\"12\" cy=\"12\" r=\"10\" />\n      <path d=\"M12 16v-4\" />\n      <path d=\"M12 8h.01\" />\n    </svg>\n  ),\n  warning: (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3\" />\n      <path d=\"M12 9v4\" />\n      <path d=\"M12 17h.01\" />\n    </svg>\n  ),\n  error: (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <circle cx=\"12\" cy=\"12\" r=\"10\" />\n      <path d=\"m15 9-6 6\" />\n      <path d=\"m9 9 6 6\" />\n    </svg>\n  ),\n};\n"
    }
  ]
}