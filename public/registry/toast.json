{
  "name": "toast",
  "type": "component",
  "dependencies": {
    "items": [
      "button"
    ]
  },
  "files": [
    {
      "name": "toast.tsx",
      "target": "components",
      "content": "'use client';\r\n\r\nimport { Toast as BaseToast, type ToastObject } from '@base-ui/react/toast';\r\nimport { buttonVariants } from './button';\r\nimport { cn } from '#utils';\r\n\r\nexport const toastManager = BaseToast.createToastManager();\r\nexport const anchoredToastManager = BaseToast.createToastManager();\r\n\r\nexport function Toast() {\r\n  return (\r\n    <>\r\n      <BaseToast.Provider toastManager={toastManager}>\r\n        <StackedToasts />\r\n      </BaseToast.Provider>\r\n      <BaseToast.Provider toastManager={anchoredToastManager}>\r\n        <AnchoredToasts />\r\n      </BaseToast.Provider>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction StackedToasts() {\r\n  const { toasts } = BaseToast.useToastManager();\r\n\r\n  return (\r\n    <BaseToast.Portal>\r\n      <BaseToast.Viewport className=\"fixed top-2 md:top-4 right-0 left-0 mx-2 md:mx-auto flex\">\r\n        {toasts.map((toast) => (\r\n          <BaseToast.Root\r\n            key={toast.id}\r\n            toast={toast}\r\n            swipeDirection=\"up\"\r\n            className={cn(\r\n              'absolute right-0 top-0 left-0 z-[calc(1000-var(--toast-index))] mx-auto w-sm max-w-full origin-top',\r\n              'rounded border border-toast-border bg-toast p-4 shadow-lg select-none h-(--height)',\r\n              'after:absolute after:bottom-full after:left-0 after:h-[calc(var(--gap)+1px)] after:w-full',\r\n              '[--gap:0.75rem] [--peek:0.75rem] [--scale:calc(max(0,1-(var(--toast-index)*0.1)))] [--shrink:calc(1-var(--scale))]',\r\n              '[--height:var(--toast-frontmost-height,var(--toast-height))] [--offset-y:calc(var(--toast-offset-y)+(var(--toast-index)*var(--gap))+var(--toast-swipe-movement-y))]',\r\n              '[transform:translateX(var(--toast-swipe-movement-x))_translateY(calc(var(--toast-swipe-movement-y)+(var(--toast-index)*var(--peek))+(var(--shrink)*var(--height))))_scale(var(--scale))]',\r\n              '[transition:transform_0.5s_cubic-bezier(0.22,1,0.36,1),opacity_0.5s,height_0.15s]',\r\n              'data-[starting-style]:[transform:translateY(-150%)]',\r\n              'data-[ending-style]:data-[swipe-direction=down]:[transform:translateY(calc(var(--toast-swipe-movement-y)+150%))]',\r\n              'data-[ending-style]:data-[swipe-direction=left]:[transform:translateX(calc(var(--toast-swipe-movement-x)-150%))_translateY(var(--offset-y))]',\r\n              'data-[ending-style]:data-[swipe-direction=right]:[transform:translateX(calc(var(--toast-swipe-movement-x)+150%))_translateY(var(--offset-y))]',\r\n              'data-[ending-style]:data-[swipe-direction=up]:[transform:translateY(calc(var(--toast-swipe-movement-y)-150%))]',\r\n              '[&[data-ending-style]:not([data-limited]):not([data-swipe-direction])]:[transform:translateY(-150%)]',\r\n              'data-[ending-style]:opacity-0',\r\n              'data-[limited]:opacity-0',\r\n              'data-[expanded]:h-[var(--toast-height)]',\r\n              'data-[expanded]:data-[ending-style]:data-[swipe-direction=down]:[transform:translateY(calc(var(--toast-swipe-movement-y)+150%))]',\r\n              'data-[expanded]:data-[ending-style]:data-[swipe-direction=left]:[transform:translateX(calc(var(--toast-swipe-movement-x)-150%))_translateY(var(--offset-y))]',\r\n              'data-[expanded]:data-[ending-style]:data-[swipe-direction=right]:[transform:translateX(calc(var(--toast-swipe-movement-x)+150%))_translateY(var(--offset-y))]',\r\n              'data-[expanded]:data-[ending-style]:data-[swipe-direction=up]:[transform:translateY(calc(var(--toast-swipe-movement-y)-150%))]',\r\n              'data-[expanded]:[transform:translateX(var(--toast-swipe-movement-x))_translateY(calc(var(--offset-y)))]',\r\n            )}\r\n          >\r\n            <ToastContent toast={toast} />\r\n          </BaseToast.Root>\r\n        ))}\r\n      </BaseToast.Viewport>\r\n    </BaseToast.Portal>\r\n  );\r\n}\r\n\r\nfunction AnchoredToasts() {\r\n  const { toasts } = BaseToast.useToastManager();\r\n\r\n  return (\r\n    <BaseToast.Portal>\r\n      <BaseToast.Viewport className=\"outline-0\">\r\n        {toasts.map((toast) => (\r\n          <BaseToast.Positioner\r\n            key={toast.id}\r\n            toast={toast}\r\n            className=\"z-[calc(1000-var(--toast-index))]\"\r\n          >\r\n            <BaseToast.Root\r\n              toast={toast}\r\n              className={cn(\r\n                'group flex w-max origin-(--transform-origin) flex-col outline-none',\r\n                'shadow bg-toast border border-toast-border rounded',\r\n                'transition-[transform,scale,opacity]',\r\n                'data-ending-style:scale-90 data-ending-style:opacity-0',\r\n                'data-starting-style:scale-90 data-starting-style:opacity-0',\r\n                toast.data?.size === 'sm' ? 'p-2' : 'p-4',\r\n              )}\r\n            >\r\n              <ToastContent toast={toast} />\r\n            </BaseToast.Root>\r\n          </BaseToast.Positioner>\r\n        ))}\r\n      </BaseToast.Viewport>\r\n    </BaseToast.Portal>\r\n  );\r\n}\r\n\r\nfunction ToastContent({ toast }: { toast: ToastObject<Object> }) {\r\n  return (\r\n    <BaseToast.Content\r\n      data-slot=\"toast-content\"\r\n      className={cn(\r\n        'overflow-hidden transition-opacity data-behind:pointer-events-none data-behind:opacity-0',\r\n        'data-expanded:opacity-100 data-expanded:pointer-events-auto',\r\n        'flex gap-x-2.5 gap-y-0.5 items-center',\r\n      )}\r\n    >\r\n      {toast.type && (\r\n        <ToastIcon type={toast.type}>{icons[toast.type]}</ToastIcon>\r\n      )}\r\n      <div className=\"w-full flex justify-between flex-col md:flex-row items-start\">\r\n        <div>\r\n          <BaseToast.Title\r\n            data-slot=\"toast-title\"\r\n            className=\"text-foreground font-medium\"\r\n          />\r\n          <BaseToast.Description\r\n            data-slot=\"toast-description\"\r\n            className=\"text-muted col-start-1\"\r\n          />\r\n        </div>\r\n        <BaseToast.Action\r\n          data-slot=\"toast-action\"\r\n          className={cn(\r\n            'text-sm md:ml-auto shrink-0 mt-2 md:mt-0 self-center',\r\n            buttonVariants({ variant: 'tertiary', size: 'xs' }),\r\n          )}\r\n        />\r\n      </div>\r\n    </BaseToast.Content>\r\n  );\r\n}\r\n\r\nfunction ToastIcon({\r\n  type,\r\n  children,\r\n}: {\r\n  type?: string;\r\n  children: React.ReactNode;\r\n}) {\r\n  return (\r\n    <div\r\n      data-slot=\"toast-icon\"\r\n      className={cn(\r\n        '*:[svg]:w-4.5 self-start',\r\n        type === 'success' && '*:[svg]:fill-success/20 *:[svg]:stroke-success',\r\n        type === 'info' && '*:[svg]:fill-info/20 *:[svg]:stroke-info',\r\n        type === 'warning' && '*:[svg]:fill-warning/20 *:[svg]:stroke-warning',\r\n        type === 'danger' && '*:[svg]:fill-danger/20 *:[svg]:stroke-danger',\r\n      )}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst icons: Record<string, React.ReactNode> = {\r\n  loading: (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      strokeWidth=\"2\"\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      className=\"size-4.5 animate-spin\"\r\n    >\r\n      <path d=\"M21 12a9 9 0 1 1-6.219-8.56\" />\r\n    </svg>\r\n  ),\r\n  success: (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      strokeWidth=\"2\"\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n    >\r\n      <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n      <path d=\"m9 12 2 2 4-4\" />\r\n    </svg>\r\n  ),\r\n  info: (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      strokeWidth=\"2\"\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n    >\r\n      <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n      <path d=\"M12 16v-4\" />\r\n      <path d=\"M12 8h.01\" />\r\n    </svg>\r\n  ),\r\n  warning: (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      strokeWidth=\"2\"\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n    >\r\n      <path d=\"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3\" />\r\n      <path d=\"M12 9v4\" />\r\n      <path d=\"M12 17h.01\" />\r\n    </svg>\r\n  ),\r\n  danger: (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      strokeWidth=\"2\"\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n    >\r\n      <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n      <path d=\"m15 9-6 6\" />\r\n      <path d=\"m9 9 6 6\" />\r\n    </svg>\r\n  ),\r\n};\r\n"
    }
  ]
}