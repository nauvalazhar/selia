{
  "name": "select",
  "type": "component",
  "dependencies": {
    "items": [
      "chip"
    ]
  },
  "files": [
    {
      "name": "select.tsx",
      "target": "components",
      "content": "'use client';\r\n\r\nimport * as React from 'react';\r\nimport { Select as BaseSelect } from '@base-ui/react/select';\r\nimport { cn } from '#utils';\r\nimport { cva, type VariantProps } from 'class-variance-authority';\r\nimport { Chip } from './chip';\r\n\r\nexport type SelectItem = {\r\n  value: string;\r\n  label: React.ReactNode;\r\n  icon?: React.ReactNode;\r\n};\r\n\r\nexport function Select({\r\n  ...props\r\n}: React.ComponentProps<typeof BaseSelect.Root>) {\r\n  return <BaseSelect.Root {...props} />;\r\n}\r\n\r\nexport const selectTriggerVariants = cva(\r\n  [\r\n    'h-9.5 px-3.5 w-full bg-input rounded placeholder:text-dimmed transition-all',\r\n    'focus:outline-0 focus:ring-primary focus:ring-2',\r\n    'flex items-center gap-2.5 cursor-default',\r\n    'data-disabled:opacity-70 data-disabled:pointer-events-none',\r\n  ],\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          'bg-input ring ring-input-border hover:ring-input-accent-border shadow-input',\r\n        subtle:\r\n          'bg-input/60 ring ring-input-border hover:ring-input-accent-border shadow-input',\r\n        plain: 'bg-transparent hover:bg-accent',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n    },\r\n  },\r\n);\r\n\r\nexport function SelectTrigger({\r\n  className,\r\n  children,\r\n  variant,\r\n  ...props\r\n}: React.ComponentProps<typeof BaseSelect.Trigger> &\r\n  VariantProps<typeof selectTriggerVariants>) {\r\n  return (\r\n    <BaseSelect.Trigger\r\n      data-slot=\"select-trigger\"\r\n      className={cn(selectTriggerVariants({ variant, className }))}\r\n      {...props}\r\n    >\r\n      {children}\r\n\r\n      <BaseSelect.Icon className=\"ml-auto size-4 text-muted pointer-events-none\">\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          viewBox=\"0 0 24 24\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth=\"2\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        >\r\n          <polyline points=\"6 9 12 15 18 9\" />\r\n        </svg>\r\n      </BaseSelect.Icon>\r\n    </BaseSelect.Trigger>\r\n  );\r\n}\r\n\r\nexport function SelectValue({\r\n  className,\r\n  placeholder = 'Select an option',\r\n  ...props\r\n}: React.ComponentProps<typeof BaseSelect.Value> & {\r\n  placeholder?: string;\r\n}) {\r\n  return (\r\n    <BaseSelect.Value\r\n      data-slot=\"select-value\"\r\n      className={cn(className)}\r\n      {...props}\r\n    >\r\n      {(value: string | SelectItem | null) => (\r\n        <SelectRenderValue value={value} placeholder={placeholder} />\r\n      )}\r\n    </BaseSelect.Value>\r\n  );\r\n}\r\n\r\nfunction SelectRenderValue({\r\n  value,\r\n  placeholder,\r\n}: {\r\n  value: string | SelectItem | SelectItem[] | null;\r\n  placeholder: string;\r\n}) {\r\n  if (!value || (Array.isArray(value) && value.length === 0)) {\r\n    return <span className=\"text-dimmed\">{placeholder}</span>;\r\n  }\r\n\r\n  if (Array.isArray(value)) {\r\n    const firstValue = value[0];\r\n    const firstValueLabel =\r\n      typeof firstValue === 'object' ? firstValue.label : firstValue;\r\n    const additionalValues =\r\n      value.length > 1 ? (\r\n        <Chip className=\"ml-1.5\" size=\"sm\">\r\n          +{value.length - 1} more\r\n        </Chip>\r\n      ) : (\r\n        ''\r\n      );\r\n\r\n    return (\r\n      <>\r\n        {firstValueLabel}\r\n        {additionalValues}\r\n      </>\r\n    );\r\n  }\r\n\r\n  if (typeof value === 'object') {\r\n    return (\r\n      <div className=\"flex items-center gap-2.5 select-none *:[svg]:size-4 *:[svg]:text-popover-foreground\">\r\n        {value.icon}\r\n        <span className=\"text-popover-foreground\">{value.label}</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <span className=\"text-popover-foreground select-none\">{value}</span>;\r\n}\r\n\r\nexport function SelectPopup({\r\n  children,\r\n  className,\r\n  align,\r\n  alignOffset,\r\n  side,\r\n  sideOffset,\r\n  anchor,\r\n  sticky,\r\n  positionMethod,\r\n  ...props\r\n}: React.ComponentProps<typeof BaseSelect.Popup> &\r\n  VariantProps<typeof selectTriggerVariants> & {\r\n    align?: BaseSelect.Positioner.Props['align'];\r\n    alignOffset?: BaseSelect.Positioner.Props['alignOffset'];\r\n    side?: BaseSelect.Positioner.Props['side'];\r\n    sideOffset?: BaseSelect.Positioner.Props['sideOffset'];\r\n    anchor?: BaseSelect.Positioner.Props['anchor'];\r\n    sticky?: BaseSelect.Positioner.Props['sticky'];\r\n    positionMethod?: BaseSelect.Positioner.Props['positionMethod'];\r\n  }) {\r\n  return (\r\n    <BaseSelect.Portal>\r\n      <BaseSelect.Backdrop />\r\n      <BaseSelect.Positioner\r\n        align={align}\r\n        alignOffset={alignOffset}\r\n        side={side}\r\n        sideOffset={sideOffset || 6}\r\n        anchor={anchor}\r\n        sticky={sticky}\r\n        positionMethod={positionMethod}\r\n      >\r\n        <BaseSelect.ScrollUpArrow className=\"top-1 left-1 right-1 z-10 absolute rounded h-5 text-xs text-popover-foreground flex items-center justify-around bg-popover-accent\" />\r\n        <BaseSelect.Popup\r\n          data-slot=\"select-popup\"\r\n          {...props}\r\n          className={cn(\r\n            'group origin-(--transform-origin) bg-popover ring ring-popover-border rounded shadow-popover',\r\n            'p-1 outline-none max-lg:w-(--anchor-width)',\r\n            className,\r\n          )}\r\n        >\r\n          <BaseSelect.Arrow />\r\n          {children}\r\n        </BaseSelect.Popup>\r\n        <BaseSelect.ScrollDownArrow className=\"bottom-1 left-1 right-1 z-10 absolute rounded h-5 text-xs text-popover-foreground flex items-center justify-around bg-popover-accent\" />\r\n      </BaseSelect.Positioner>\r\n    </BaseSelect.Portal>\r\n  );\r\n}\r\n\r\nexport function SelectList({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof BaseSelect.List>) {\r\n  return (\r\n    <BaseSelect.List\r\n      data-slot=\"select-list\"\r\n      className={cn(\r\n        'space-y-0.5 max-h-(--available-height) overflow-y-auto relative',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport function SelectItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof BaseSelect.Item>) {\r\n  return (\r\n    <BaseSelect.Item\r\n      data-slot=\"select-item\"\r\n      className={cn(\r\n        'flex items-center text-popover-foreground py-2.5 px-3 gap-3.5 rounded select-none',\r\n        'group-data-[side=none]:min-w-[calc(var(--anchor-width))]',\r\n        'data-[highlighted]:bg-popover-accent data-[selected]:bg-popover-accent',\r\n        'focus-visible:outline-none',\r\n        'data-disabled:opacity-70 data-disabled:pointer-events-none',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <BaseSelect.ItemText className=\"flex items-center gap-2.5 *:[svg]:size-4\">\r\n        {children}\r\n      </BaseSelect.ItemText>\r\n      <BaseSelect.ItemIndicator className=\"ml-auto\">\r\n        <svg\r\n          className=\"size-4 text-primary\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          viewBox=\"0 0 24 24\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth=\"3\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        >\r\n          <polyline points=\"20 6 9 17 4 12\" />\r\n        </svg>\r\n      </BaseSelect.ItemIndicator>\r\n    </BaseSelect.Item>\r\n  );\r\n}\r\n\r\nexport function SelectGroup({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof BaseSelect.Group>) {\r\n  return (\r\n    <BaseSelect.Group\r\n      data-slot=\"select-group\"\r\n      className={cn('space-y-0.5', className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport function SelectGroupLabel({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof BaseSelect.GroupLabel>) {\r\n  return (\r\n    <BaseSelect.GroupLabel\r\n      data-slot=\"select-group-label\"\r\n      className={cn('px-3 py-1.5 text-sm font-medium text-dimmed', className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport function SelectSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof BaseSelect.Separator>) {\r\n  return (\r\n    <BaseSelect.Separator\r\n      data-slot=\"select-separator\"\r\n      className={cn('h-px my-1 bg-popover-separator', className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n"
    }
  ]
}