{
  "name": "select",
  "type": "component",
  "dependencies": {
    "items": [
      "chip"
    ]
  },
  "files": [
    {
      "name": "select.tsx",
      "target": "components",
      "content": "'use client';\n\nimport * as React from 'react';\nimport { Select as BaseSelect } from '@base-ui/react/select';\nimport { cn } from '#utils';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { Chip } from './chip';\n\nexport type SelectItem = {\n  value: string;\n  label: React.ReactNode;\n  icon?: React.ReactNode;\n};\n\nexport function Select({\n  ...props\n}: React.ComponentProps<typeof BaseSelect.Root>) {\n  return <BaseSelect.Root {...props} />;\n}\n\nexport const selectTriggerVariants = cva(\n  [\n    'h-9.5 px-3.5 w-full bg-input rounded placeholder:text-dimmed transition-all',\n    'focus:outline-0 focus:ring-primary focus:ring-2',\n    'flex items-center gap-2.5 cursor-pointer',\n    'data-disabled:cursor-not-allowed data-disabled:opacity-70',\n  ],\n  {\n    variants: {\n      variant: {\n        default:\n          'bg-input ring ring-input-border hover:not-[[data-disabled]]:not-[:focus]:ring-input-accent-border shadow-input',\n        subtle:\n          'bg-input/60 ring ring-input-border hover:not-[[data-disabled]]:not-[:focus]:ring-input-accent-border shadow-input',\n        plain: 'bg-transparent hover:not-[[data-disabled]]:bg-accent',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n);\n\nexport function SelectTrigger({\n  className,\n  children,\n  variant,\n  ...props\n}: React.ComponentProps<typeof BaseSelect.Trigger> &\n  VariantProps<typeof selectTriggerVariants>) {\n  return (\n    <BaseSelect.Trigger\n      data-slot=\"select-trigger\"\n      className={cn(selectTriggerVariants({ variant, className }))}\n      {...props}\n    >\n      {children}\n\n      <BaseSelect.Icon className=\"ml-auto size-4 text-muted pointer-events-none\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        >\n          <polyline points=\"6 9 12 15 18 9\" />\n        </svg>\n      </BaseSelect.Icon>\n    </BaseSelect.Trigger>\n  );\n}\n\nexport function SelectValue({\n  className,\n  placeholder = 'Select an option',\n  ...props\n}: React.ComponentProps<typeof BaseSelect.Value> & {\n  placeholder?: string;\n}) {\n  return (\n    <BaseSelect.Value\n      data-slot=\"select-value\"\n      className={cn(className)}\n      {...props}\n    >\n      {(value: string | SelectItem | null) => (\n        <SelectRenderValue value={value} placeholder={placeholder} />\n      )}\n    </BaseSelect.Value>\n  );\n}\n\nfunction SelectRenderValue({\n  value,\n  placeholder,\n}: {\n  value: string | SelectItem | SelectItem[] | null;\n  placeholder: string;\n}) {\n  if (!value || (Array.isArray(value) && value.length === 0)) {\n    return <span className=\"text-dimmed\">{placeholder}</span>;\n  }\n\n  if (Array.isArray(value)) {\n    const firstValue = value[0];\n    const firstValueLabel =\n      typeof firstValue === 'object' ? firstValue.label : firstValue;\n    const additionalValues =\n      value.length > 1 ? (\n        <Chip className=\"ml-1.5\" size=\"sm\">\n          +{value.length - 1} more\n        </Chip>\n      ) : (\n        ''\n      );\n\n    return (\n      <>\n        {firstValueLabel}\n        {additionalValues}\n      </>\n    );\n  }\n\n  if (typeof value === 'object') {\n    return (\n      <div className=\"flex items-center gap-2.5 select-none [&_svg:not([class*=size-])]:size-4 [&_svg:not([class*=text-])]:text-popover-foreground\">\n        {value.icon}\n        <span className=\"text-popover-foreground\">{value.label}</span>\n      </div>\n    );\n  }\n\n  return <span className=\"text-popover-foreground select-none\">{value}</span>;\n}\n\nexport function SelectPopup({\n  children,\n  className,\n  align,\n  alignOffset,\n  side,\n  sideOffset,\n  anchor,\n  sticky,\n  positionMethod,\n  ...props\n}: React.ComponentProps<typeof BaseSelect.Popup> &\n  VariantProps<typeof selectTriggerVariants> & {\n    align?: BaseSelect.Positioner.Props['align'];\n    alignOffset?: BaseSelect.Positioner.Props['alignOffset'];\n    side?: BaseSelect.Positioner.Props['side'];\n    sideOffset?: BaseSelect.Positioner.Props['sideOffset'];\n    anchor?: BaseSelect.Positioner.Props['anchor'];\n    sticky?: BaseSelect.Positioner.Props['sticky'];\n    positionMethod?: BaseSelect.Positioner.Props['positionMethod'];\n  }) {\n  return (\n    <BaseSelect.Portal>\n      <BaseSelect.Backdrop />\n      <BaseSelect.Positioner\n        align={align}\n        alignOffset={alignOffset}\n        side={side}\n        sideOffset={sideOffset || 6}\n        anchor={anchor}\n        sticky={sticky}\n        positionMethod={positionMethod}\n      >\n        <BaseSelect.ScrollUpArrow className=\"top-1 left-1 right-1 z-10 absolute rounded h-5 text-xs text-popover-foreground flex items-center justify-around bg-popover-accent\" />\n        <BaseSelect.Popup\n          data-slot=\"select-popup\"\n          {...props}\n          className={cn(\n            'group origin-(--transform-origin) bg-popover ring ring-popover-border rounded shadow-popover',\n            'p-1 outline-none max-lg:w-(--anchor-width)',\n            className,\n          )}\n        >\n          <BaseSelect.Arrow />\n          {children}\n        </BaseSelect.Popup>\n        <BaseSelect.ScrollDownArrow className=\"bottom-1 left-1 right-1 z-10 absolute rounded h-5 text-xs text-popover-foreground flex items-center justify-around bg-popover-accent\" />\n      </BaseSelect.Positioner>\n    </BaseSelect.Portal>\n  );\n}\n\nexport function SelectList({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseSelect.List>) {\n  return (\n    <BaseSelect.List\n      data-slot=\"select-list\"\n      className={cn(\n        'space-y-0.5 max-h-(--available-height) overflow-y-auto relative',\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport function SelectItem({\n  className,\n  children,\n  value,\n  ...props\n}: React.ComponentProps<typeof BaseSelect.Item>) {\n  return (\n    <BaseSelect.Item\n      data-slot=\"select-item\"\n      value={typeof value === 'object' ? value : { value, label: children }}\n      className={cn(\n        'flex items-center text-popover-foreground py-2.5 px-3 gap-3.5 rounded select-none cursor-pointer',\n        'group-data-[side=none]:min-w-[calc(var(--anchor-width))]',\n        'data-[highlighted]:not-[[data-disabled]]:bg-popover-accent data-[selected]:not-[[data-disabled]]:bg-popover-accent',\n        'focus-visible:outline-none',\n        'data-disabled:cursor-not-allowed data-disabled:opacity-70',\n        className,\n      )}\n      {...props}\n    >\n      <BaseSelect.ItemText className=\"flex items-center gap-2.5 [&_svg:not([class*=size-])]:size-4\">\n        {children}\n      </BaseSelect.ItemText>\n      <BaseSelect.ItemIndicator className=\"ml-auto\">\n        <svg\n          className=\"size-4 text-primary\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"3\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        >\n          <polyline points=\"20 6 9 17 4 12\" />\n        </svg>\n      </BaseSelect.ItemIndicator>\n    </BaseSelect.Item>\n  );\n}\n\nexport function SelectGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseSelect.Group>) {\n  return (\n    <BaseSelect.Group\n      data-slot=\"select-group\"\n      className={cn('space-y-0.5', className)}\n      {...props}\n    />\n  );\n}\n\nexport function SelectGroupLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseSelect.GroupLabel>) {\n  return (\n    <BaseSelect.GroupLabel\n      data-slot=\"select-group-label\"\n      className={cn('px-3 py-1.5 text-sm font-medium text-dimmed', className)}\n      {...props}\n    />\n  );\n}\n\nexport function SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof BaseSelect.Separator>) {\n  return (\n    <BaseSelect.Separator\n      data-slot=\"select-separator\"\n      className={cn('h-px my-1 bg-popover-separator', className)}\n      {...props}\n    />\n  );\n}"
    }
  ]
}