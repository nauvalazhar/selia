{"version":3,"sources":["../src/lib/package-manager.ts"],"sourcesContent":["// utils/package-manager.ts\nimport fs from 'fs/promises';\nimport { existsSync } from 'fs';\nimport path from 'path';\n\nexport type PackageManager = 'npm' | 'yarn' | 'pnpm' | 'bun';\n\nexport async function detectPackageManager(\n  cwd: string = process.cwd(),\n): Promise<PackageManager> {\n  if (existsSync(path.join(cwd, 'bun.lock'))) return 'bun';\n  if (existsSync(path.join(cwd, 'pnpm-lock.yaml'))) return 'pnpm';\n  if (existsSync(path.join(cwd, 'yarn.lock'))) return 'yarn';\n  if (existsSync(path.join(cwd, 'package-lock.json'))) return 'npm';\n\n  try {\n    const pkgPath = path.join(cwd, 'package.json');\n    const pkg = JSON.parse(await fs.readFile(pkgPath, 'utf-8'));\n\n    if (pkg.packageManager) {\n      if (pkg.packageManager.startsWith('bun')) return 'bun';\n      if (pkg.packageManager.startsWith('pnpm')) return 'pnpm';\n      if (pkg.packageManager.startsWith('yarn')) return 'yarn';\n    }\n  } catch {}\n\n  // Default to npm\n  return 'npm';\n}\n\nexport function getInstallCommand(pm: PackageManager): string {\n  const commands = {\n    npm: 'npm install',\n    yarn: 'yarn add',\n    pnpm: 'pnpm add',\n    bun: 'bun add',\n  };\n  return commands[pm];\n}\n"],"mappings":";AACA,OAAO,QAAQ;AACf,SAAS,kBAAkB;AAC3B,OAAO,UAAU;AAIjB,eAAsB,qBACpB,MAAc,QAAQ,IAAI,GACD;AACzB,MAAI,WAAW,KAAK,KAAK,KAAK,UAAU,CAAC,EAAG,QAAO;AACnD,MAAI,WAAW,KAAK,KAAK,KAAK,gBAAgB,CAAC,EAAG,QAAO;AACzD,MAAI,WAAW,KAAK,KAAK,KAAK,WAAW,CAAC,EAAG,QAAO;AACpD,MAAI,WAAW,KAAK,KAAK,KAAK,mBAAmB,CAAC,EAAG,QAAO;AAE5D,MAAI;AACF,UAAM,UAAU,KAAK,KAAK,KAAK,cAAc;AAC7C,UAAM,MAAM,KAAK,MAAM,MAAM,GAAG,SAAS,SAAS,OAAO,CAAC;AAE1D,QAAI,IAAI,gBAAgB;AACtB,UAAI,IAAI,eAAe,WAAW,KAAK,EAAG,QAAO;AACjD,UAAI,IAAI,eAAe,WAAW,MAAM,EAAG,QAAO;AAClD,UAAI,IAAI,eAAe,WAAW,MAAM,EAAG,QAAO;AAAA,IACpD;AAAA,EACF,QAAQ;AAAA,EAAC;AAGT,SAAO;AACT;AAEO,SAAS,kBAAkB,IAA4B;AAC5D,QAAM,WAAW;AAAA,IACf,KAAK;AAAA,IACL,MAAM;AAAA,IACN,MAAM;AAAA,IACN,KAAK;AAAA,EACP;AACA,SAAO,SAAS,EAAE;AACpB;","names":[]}