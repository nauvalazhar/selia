{"version":3,"sources":["../src/lib/utils.ts"],"sourcesContent":["import fs from 'fs/promises';\nimport { Config } from '../schemas/config-schema';\nimport { cancel, isCancel } from '@clack/prompts';\n\nexport async function isRegistryExists() {\n  try {\n    await fs.access('./registry.json');\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport function getRegistryFromConfig(config: Config) {\n  if (!config.registries?.default || !config.registries.sources) {\n    return null;\n  }\n\n  const registry = config.registries.sources[config.registries.default];\n\n  if (!registry) {\n    return null;\n  }\n\n  return registry;\n}\n\nexport function abortIfCancel(value: unknown): never | void {\n  if (isCancel(value)) {\n    cancel('Setup aborted by user.');\n    process.exit(1);\n  }\n}\n"],"mappings":";AAAA,OAAO,QAAQ;AAEf,SAAS,QAAQ,gBAAgB;AAEjC,eAAsB,mBAAmB;AACvC,MAAI;AACF,UAAM,GAAG,OAAO,iBAAiB;AACjC,WAAO;AAAA,EACT,SAAS,GAAG;AACV,WAAO;AAAA,EACT;AACF;AAEO,SAAS,sBAAsB,QAAgB;AACpD,MAAI,CAAC,OAAO,YAAY,WAAW,CAAC,OAAO,WAAW,SAAS;AAC7D,WAAO;AAAA,EACT;AAEA,QAAM,WAAW,OAAO,WAAW,QAAQ,OAAO,WAAW,OAAO;AAEpE,MAAI,CAAC,UAAU;AACb,WAAO;AAAA,EACT;AAEA,SAAO;AACT;AAEO,SAAS,cAAc,OAA8B;AAC1D,MAAI,SAAS,KAAK,GAAG;AACnB,WAAO,wBAAwB;AAC/B,YAAQ,KAAK,CAAC;AAAA,EAChB;AACF;","names":[]}